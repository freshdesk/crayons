import{r as t,c as s,h as i,g as h,e as a}from"./p-8c82131c.js";import{f as e,w as o,r}from"./p-a5f3811d.js";let n=class{constructor(i){t(this,i),this.fwChange=s(this,"fwChange",7),this.selectedIndex=0,this.allowEmpty=!1,this.label="",this.name="",this.orientation="column",this.onSelect=t=>{const s=t.target;s&&(this.value=s.value)},this.onDeselect=async t=>{this.allowEmpty&&t.target.value===this.value&&(this.value=void 0),await this.updateRadios()}}async valueChanged(t){await this.updateRadios(),this.fwChange.emit({value:t})}handleKeydown(t){"ArrowDown"!==t.code&&"ArrowRight"!==t.code&&"ArrowLeft"!==t.code&&"ArrowUp"!==t.code&&"Space"!==t.code||t.preventDefault()}handleKeyup(t){const s=this.radios,i=this.selectedIndex;switch(t.code){case"ArrowDown":case"ArrowRight":s[i].setAttribute("tabindex","-1"),s[i].checked=!1,this.selectedIndex=++this.selectedIndex%s.length,s[this.selectedIndex].setAttribute("tabindex","0"),s[this.selectedIndex].checked=!0,s[this.selectedIndex].focus(),this.value=s[this.selectedIndex].value;break;case"ArrowUp":case"ArrowLeft":s[i].setAttribute("tabindex","-1"),s[i].checked=!1,this.selectedIndex=0===this.selectedIndex?s.length-1:--this.selectedIndex,s[this.selectedIndex].setAttribute("tabindex","0"),s[this.selectedIndex].checked=!0,s[this.selectedIndex].focus(),this.value=s[this.selectedIndex].value;break;case"Space":s[0].checked=!0,s[0].focus(),this.value=s[0].value}}async connectedCallback(){const t=this.host;if(this.radios=Array.from(this.host.querySelectorAll("fw-radio")).filter((t=>!t.disabled)),this.host.style.display="flex",this.host.style.flexDirection=this.orientation,void 0===this.value){const s=e(t,"fw-radio");void 0!==s&&(await s.componentOnReady(),void 0===this.value&&(this.value=s.value))}this.mutationO=o(t,"fw-radio",(async t=>{void 0!==t?t.componentOnReady().then((()=>{this.value=t.value})).catch():await this.updateRadios()}))}disconnectedCallback(){this.mutationO&&(this.mutationO.disconnect(),this.mutationO=void 0)}async updateRadios(){const t=await this.radios,{value:s}=this;let i=!1;for(const[h,a]of t.entries())i||a.value!==s?(a.setAttribute("tabindex","-1"),a.checked=!1):(i=!0,a.checked=!0,a.setAttribute("tabindex","0"),this.selectedIndex=h);i||(0!==t.length&&t[0].setAttribute("tabindex","0"),this.selectedIndex=0,this.value=void 0)}render(){const{host:t,name:s,value:h}=this;return r(t,s,h),i(a,{role:"radiogroup","aria-label":this.label,onFwSelect:this.onSelect,onFwDeselect:this.onDeselect})}get host(){return h(this)}static get watchers(){return{value:["valueChanged"]}}};export{n as fw_radio_group}