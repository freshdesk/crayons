import{r as t,c as s,h as i,g as e}from"./p-8c82131c.js";let a=class{constructor(i){t(this,i),this.fwChange=s(this,"fwChange",7),this.label="",this.activeTabIndex=0}init(){this.tabs=Array.from(this.el.querySelectorAll("fw-tab")).filter((t=>!t.disabled)),this.panels=Array.from(this.el.querySelectorAll("fw-tab-panel")),this.assignAriaLabels(),this.setActiveTab(this.getActiveTab()||this.tabs[0])}createPanelIfRequired(){let t=0;this.tabs=Array.from(this.el.querySelectorAll("fw-tab")),this.tabs.map((s=>{if(s.tabHeader){s.setAttribute("panel","panel-"+t++),s.setAttribute("slot","tab");const i=document.createElement("fw-tab-panel");i.innerHTML=s.innerHTML,i.setAttribute("id","fw-tab-panel-"+t++),i.setAttribute("name",s.getAttribute("panel")),this.el.appendChild(i)}}))}assignAriaLabels(){this.tabs.map((t=>{const s=this.panels.find((s=>s.name===t.getAttribute("panel")));s&&(t.setAttribute("aria-controls",s.getAttribute("id")),s.setAttribute("aria-labelledby",t.getAttribute("id")))}))}setActiveTab(t){t&&t!==this.activeTab&&!t.disabled&&(this.activeTab=t,this.activeTabIndex=this.tabs.indexOf(t),this.tabs.map((t=>t.active=t===this.activeTab)),this.panels.map((t=>t.active=t.name===this.activeTab.getAttribute("panel"))),this.fwChange.emit({tabIndex:this.activeTabIndex,tabName:this.activeTab.id}))}componentWillLoad(){this.init()}connectedCallback(){this.createPanelIfRequired(),this.mutationO=new MutationObserver((()=>{this.init()})),this.mutationO.observe(this.el,{childList:!0})}disconnectedCallback(){this.mutationO&&(this.mutationO.disconnect(),this.mutationO=void 0)}getActiveTab(){return this.activeTabIndex&&this.tabs[this.activeTabIndex]||this.tabs.find((t=>t.id===this.activeTabName||t.active))}handleClick(t){const s=t.target.closest("fw-tab");s&&this.setActiveTab(s)}handleKeyDown(t){switch(t.code){case"ArrowDown":case"ArrowUp":case"ArrowLeft":case"ArrowRight":t.preventDefault()}}handleKeyUp(t){if(void 0!==this.activeTabIndex){let s=this.activeTabIndex;switch(t.code){case"ArrowLeft":case"ArrowUp":s=(s-1+this.tabs.length)%this.tabs.length;break;case"ArrowRight":case"ArrowDown":s=(s+1)%this.tabs.length;break;default:return}this.tabs[s].focus(),this.setActiveTab(this.tabs[s])}}render(){return i("div",{class:"tabs"},i("div",{class:"tabs__items__nav"},i("div",{class:"tabs__items__tabs",role:"tablist","aria-label":this.label},i("slot",{name:"tab"}))),i("slot",null))}get el(){return e(this)}};a.style=':host{font-family:-apple-system, blinkmacsystemfont, "Segoe UI", roboto, oxygen, ubuntu, cantarell, "Open Sans", "Helvetica Neue", sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-box-sizing:border-box;box-sizing:border-box}.tabs{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.tabs__items__nav{padding:0px 12px;display:-ms-flexbox;display:flex;border-bottom:1px solid #ebeff3;overflow-x:auto}.tabs__items__tabs{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;position:relative}';export{a as fw_tabs}