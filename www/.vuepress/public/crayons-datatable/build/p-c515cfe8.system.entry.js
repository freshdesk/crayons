var __awaiter=this&&this.__awaiter||function(t,e,i,n){function o(t){return t instanceof i?t:new i((function(e){e(t)}))}return new(i||(i=Promise))((function(i,s){function r(t){try{l(n.next(t))}catch(e){s(e)}}function a(t){try{l(n["throw"](t))}catch(e){s(e)}}function l(t){t.done?i(t.value):o(t.value).then(r,a)}l((n=n.apply(t,e||[])).next())}))};var __generator=this&&this.__generator||function(t,e){var i={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,o,s,r;return r={next:a(0),throw:a(1),return:a(2)},typeof Symbol==="function"&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return l([t,e])}}function l(r){if(n)throw new TypeError("Generator is already executing.");while(i)try{if(n=1,o&&(s=r[0]&2?o["return"]:r[0]?o["throw"]||((s=o["return"])&&s.call(o),0):o.next)&&!(s=s.call(o,r[1])).done)return s;if(o=0,s)r=[r[0]&2,s.value];switch(r[0]){case 0:case 1:s=r;break;case 4:i.label++;return{value:r[1],done:false};case 5:i.label++;o=r[1];r=[0];continue;case 7:r=i.ops.pop();i.trys.pop();continue;default:if(!(s=i.trys,s=s.length>0&&s[s.length-1])&&(r[0]===6||r[0]===2)){i=0;continue}if(r[0]===3&&(!s||r[1]>s[0]&&r[1]<s[3])){i.label=r[1];break}if(r[0]===6&&i.label<s[1]){i.label=s[1];s=r;break}if(s&&i.label<s[2]){i.label=s[2];i.ops.push(r);break}if(s[2])i.ops.pop();i.trys.pop();continue}r=e.call(t,i)}catch(a){r=[6,a];o=0}finally{n=s=0}if(r[0]&5)throw r[1];return{value:r[0]?r[1]:void 0,done:true}}};System.register(["./p-3214ba63.system.js","./p-3b9a8a4c.system.js"],(function(t){"use strict";var e,i,n,o,s;return{setters:[function(t){e=t.r;i=t.c;n=t.h;o=t.g},function(t){s=t.i}],execute:function(){var r=':host{font-family:-apple-system, blinkmacsystemfont, "Segoe UI", roboto, oxygen, ubuntu, cantarell, "Open Sans", "Helvetica Neue", sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-box-sizing:border-box;box-sizing:border-box}:host{font-family:-apple-system, blinkmacsystemfont, Segoe UI, roboto, oxygen, ubuntu, cantarell, Open Sans, Helvetica Neue, sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-box-sizing:border-box;box-sizing:border-box}.modal-container{height:100vh;width:100vw;position:fixed;top:0;right:0;bottom:0;left:0;display:none;z-index:990;background-color:rgba(18, 52, 77, 0.5);-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;-webkit-transition:all 0.3s linear;transition:all 0.3s linear}.modal{position:relative;max-height:70vh;background:#fff;border-radius:4px;display:-ms-flexbox;display:flex;z-index:999;-ms-flex-direction:column;flex-direction:column;-webkit-animation:"modal-entry" 0.5s 1;animation:"modal-entry" 0.5s 1}.modal .content{padding:0 32px 32px;height:100%;width:auto;overflow:auto}.standard{width:512px}.small{width:424px}.large{width:800px}.visible{display:-ms-flexbox;display:flex}@-webkit-keyframes modal-entry{0%{-webkit-transform:translateY(-10px);transform:translateY(-10px)}100%{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes modal-entry{0%{-webkit-transform:translateY(-10px);transform:translateY(-10px)}100%{-webkit-transform:translateY(0);transform:translateY(0)}}';var a=t("fw_modal",function(){function t(t){e(this,t);this.fwSubmit=i(this,"fwSubmit",7);this.fwOpen=i(this,"fwOpen",7);this.fwClose=i(this,"fwClose",7);this.firstFocusElement=null;this.lastFocusElement=null;this.icon="";this.size="standard";this.submitText="OK";this.cancelText="Cancel";this.submitDisabled=false;this.submitColor="primary";this.hideFooter=false;this.isOpen=false;this.accessibilityAdded=false;this.escapeHandler=null}t.prototype.componentWillLoad=function(){if(!this.modalTitle){this.modalTitle=this.el.querySelector("fw-modal-title");if(this.modalTitle){this.modalTitle.close=this.close.bind(this)}}if(!this.modalFooter){this.modalFooter=this.el.querySelector("fw-modal-footer");if(this.modalFooter){this.modalFooter.submit=this.submit.bind(this);this.modalFooter.close=this.close.bind(this)}}if(!this.modalContent){this.modalContent=this.el.querySelector("fw-modal-content")}};t.prototype.visibilityChange=function(t){if(!t){this.removeAccesibilityEvents();this.fwClose.emit()}else{this.addAccesibilityEvents();this.fwOpen.emit()}};t.prototype.close=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){this.isOpen=false;return[2,true]}))}))};t.prototype.open=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){this.isOpen=true;return[2,true]}))}))};t.prototype.submit=function(){this.fwSubmit.emit()};t.prototype.addAccesibilityEvents=function(){var t=this;if(!this.accessibilityAdded){var e=function(t){var e=[];var i=function(t,n){if(n===void 0){n=true}n&&(e=[]);t=t.shadowRoot?t.shadowRoot:t;t.querySelectorAll("*").forEach((function(t){if(s(t)){e.push(t)}else if(t.nodeName==="SLOT"){t.assignedElements({flatten:true}).forEach((function(t){return i(t,false)}))}else if(t.shadowRoot){i(t,false)}}))};i(t);return e};var i=e(this.el);if(i.length){this.firstFocusElement=i[0];this.lastFocusElement=i[i.length-1];this.lastFocusElement.addEventListener("keydown",(function(e){!e.shiftKey&&e.keyCode===9&&t.focusElement(t.firstFocusElement)}));this.firstFocusElement.addEventListener("keydown",(function(e){e.shiftKey&&e.keyCode==9&&t.focusElement(t.lastFocusElement)}))}if(this.firstFocusElement){var n=this.el.shadowRoot.querySelector(".modal");n&&n.addEventListener("animationend",(function(){t.isOpen&&t.focusElement(t.firstFocusElement)}))}this.accessibilityAdded=true}this.escapeHandler=function(e){if(e.keyCode===27){t.isOpen=false}}.bind(this);document.addEventListener("keydown",this.escapeHandler)};t.prototype.removeAccesibilityEvents=function(){if(this.escapeHandler){document.removeEventListener("keydown",this.escapeHandler);this.escapeHandler=null}};t.prototype.focusElement=function(t){setTimeout((function(){return t.focus()}),1)};t.prototype.renderIcon=function(){return n("fw-icon",{class:"icon",name:this.icon,size:16})};t.prototype.renderTitle=function(){return n("fw-modal-title",{icon:this.icon,titleText:this.titleText,description:this.description,close:this.close.bind(this)})};t.prototype.renderContent=function(){return n("div",{class:"content"},n("slot",null))};t.prototype.renderFooter=function(){return n("fw-modal-footer",{submitText:this.submitText,cancelText:this.cancelText,submitDisabled:this.submitDisabled,submitColor:this.submitColor,submit:this.submit.bind(this),close:this.close.bind(this)})};t.prototype.render=function(){var t;return n("div",{class:{"modal-container":true,visible:this.isOpen}},n("div",{class:(t={modal:true},t[this.size]=true,t),"aria-modal":"true"},this.modalTitle?"":this.renderTitle(),this.modalContent?n("slot",null):this.renderContent(),this.hideFooter?"":this.modalFooter?"":this.renderFooter()))};Object.defineProperty(t.prototype,"el",{get:function(){return o(this)},enumerable:false,configurable:true});Object.defineProperty(t,"watchers",{get:function(){return{isOpen:["visibilityChange"]}},enumerable:false,configurable:true});return t}());a.style=r}}}));