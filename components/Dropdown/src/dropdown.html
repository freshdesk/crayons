  <slot></slot>
  <div class="custom-select" id="custom-select" on:click="checkBoxOpen(event)"{...props}> {value}
     <div class="selectoptions">
       {#each itemNames as item}
        <div class="items" on:click="optionClick(event)">{item.textContent}</div>
       {/each}
     </div>
    </div>

<style>
:host {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
}
::-webkit-scrollbar {
  width: 8px;
}
slot {
  display: none;
}
/* Track */
::-webkit-scrollbar-track {
  display :none
}
 
/* Handle */
::-webkit-scrollbar-thumb {
  background: #ebeff3; 
  border-radius: 10px;
  height: 70px;
}


.custom-select{
  position: relative;
  width: 224px;
  height: 34px;
  box-sizing: border-box;
  border: none;
  border:#cfd7df 1px solid;
  box-shadow: inset 0 1px 2px 0 rgba(24, 50, 71, 0.05);
  border-radius: 5px;
  padding: 6px 12px;
  background:#ffffff;
  font-size: 14px;        
  font-weight: 600;
  line-height: 20px;
  color: #12344d;
  appearance: none; 
  cursor : pointer;
}
.custom-select::after{
  content:">";
  float:right;
  transform:rotate(90deg);
  margin-top:2px;
  margin-right:-4px;
  cursor:pointer;
  color:#000;
}
.custom-select:hover{
border: solid 1px #475867;
}
.custom-select:focus{
  outline:none;
border: solid 2px #2c5cc5;
}
.custom-select:invalid
{
 border : solid 1px #d72d30;
}
.custom-select:disabled 
{
  pointer-events: none;
  background: #cfd7df;
  cursor : auto;
}
.selectoptions{
  position :absolute;
  display: none;
  left :0px;
  top:33px;
  width: 224px;
  height: 184px;
  box-shadow: 0 2px 20px 0 rgba(24, 50, 71, 0.16), 0 2px 3px 0 rgba(0, 0, 0, 0.06);
  border: solid 1px #ebeef0;
  border-radius : 5px;
  transition: 2s linear;
  background-color: #ffffff;
  overflow:auto;
}
.items{
  margin-left:16px;
  padding-left:8px;
  margin-bottom :-7px;
  margin-top:8px;
  width: 184px;
  height: 32px;
  background-color: #ffffff;
  cursor:pointer;
  font-family: SFProText;
  font-size: 14px;
  font-weight: normal;
  line-height: 2.43;
  color: #12344d;
}
.items:hover
{
  width: 184px;
  height: 32px;
  border-radius :5px;
  margin-left:16px;
  margin-right:24px;
  background-color: #ebeff3;
}
.activeitem{
  border-radius : 5px;
  margin-left:16px;
  padding-left:8px;
  margin-bottom :-7px;
  margin-top:8px;
  width: 184px;
  height: 32px;
  background-color: #e5f2fd;
  cursor:pointer;
  font-family: SFProText;
  font-size: 14px;
  line-height: 2.43;
  color: #2c5cc5;
  font-weight: 600;
}
.activeitem::after{
  content:"";
  float:right;
  margin-top:11px;
  margin-right:12px;
    width: 3px;
    height: 7px;
    border: solid black;
    border-width: 0 2px 2px 0;
    -webkit-transform: rotate(45deg); 
     -ms-transform: rotate(45deg); 
  transform: rotate(45deg);
 }
</style>

<script>
  export default {
    
  tag: "fw-select",
  props: ["item","value"],
  
  computed: {
      props: state => {
        Object.keys(state).forEach(key => {
          // if(state[key]=="items") {
          // items = items.split(",");
          //   }
          state[key] = state[key] === "" ? key : state[key];
        });
        return state;
      } 
    },
    data(){
      return {
        itemNames : document.querySelector('fw-select').children
      }
    },

  //   oncreate : ()=>{
  //     console.log('Entry')
  //   let rootEl = document.querySelector('fw-select'),
  //   itemNames = rootEl.children,
  //   selectOptions = rootEl.shadowRoot.children[2].children[0]
  //   let items=""
  //   for(let i=0;i<itemNames.length;i++)
  //       items += `<div class="items" onclick="this.optionClick(this)">${itemNames[i].textContent}</div>`;
  //     selectOptions.innerHTML += items;  
  // },

    methods:{
      checkBoxOpen : function(ev){
        let selectoptions = ev.target.children[0]
        if(selectoptions.style.display==="none")
        selectoptions.style.display ="block"
        else
        selectoptions.style.display ="none"
  },
      optionClick : function(el){
        console.log(el.target)
        let val = el.target.textContent
        document.querySelector('fw-select').setAttribute('value',val)
        document.querySelector('fw-select').value = val;
        el.target.parentElement.style.display="none"
      }
    }
 }
    
</script>